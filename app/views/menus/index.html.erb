
<div data-controller = "menu">
    <div class="mr-96">
        <% if current_admin%>
            <section>
                <h1 class="text-xl">Adicionar <%= @menu.model_name.human%></h1>
                <%= form_with model: @menu do |f|%>
                    <div class="flex gap-2 mb-5">
                        <%= f.text_field :name, placeholder: "Nome do #{@menu.model_name.human}", id: 'menu_name_field', class: 'input-secondary'%>
                        <%= f.submit "+", class: 'text-white text-2xl font-medium bg-amber-500 px-4 rounded cursor-pointer'%>
                    </div>
                    
                <% end %>
            </section>
        <% end %>

        <section>
            <% @menus.each do |menu|%> 
                <div class="menu_container p-10 mb-20 border-2 border-default-200 rounded-md">
                    <section class="flex justify-between items-center">
                        <div class="flex items-center gap-5">
                            <h2 class="text-2xl"><%= menu.name%></h2>
                            <% if current_admin%>
                                <%= link_to "Editar", edit_menu_path(menu.id)%>
                            <% end %>
                        </div>
                        
                        <% if menu.items.valid.present?%>
                            <button class="menu_dropdown" data-menu-target="toggleButton"><%= image_tag 'arrow_down.svg', width: 20, height: 20%></button>
                        <% end %>
                    </section>
                    
                    <div class="min-h-[2px] bg-gray-200 my-5"></div>

                    <section class="menu_items" data-menu-target="menuItem">
                        <%= render partial: 'menus/item', collection: menu.items.valid, as: :item%>
                    </section>
                </div>
            <% end %>
        </section>
    </div>


    <section class="fixed flex flex-col w-96 h-screen border-2 border-gray-200 right-0 top-0 p-10" >
        <h1 class="text-2xl"><%= @order.model_name.human %></h1>
        <%= form_with model: @order do |f| %>
            <div data-menu-target="orderInputs" class="flex flex-col gap-5 mb-10"></div>
            <h2 class="text-xl">Dados do cliente</h2>
            <div class='field'>
                <%= f.text_field :client_name, placeholder: 'Nome do cliente', class: 'input-secondary'%>
            </div >
            <div class='field'>
                <%= f.text_field :cpf, placeholder: 'CPF', class: 'input-secondary'%>
            </div >
            <div class='field'>
                <%= f.text_field :email, placeholder: 'E-mail', class: 'input-secondary'%>
            </div >
            <div class='field'>
                <%= f.text_field :phone_number, placeholder: 'Numero de telefone', class: 'input-secondary'%>
            </div >
            <div class="mb-10" data-menu-target="orderTotal"></div>
            <%= f.submit 'Salvar', class: 'font-medium rounded-xl border-2 border-amber-500 w-full px-4 py-2 cursor-pointer hover:bg-amber-500 hover:text-white'%>
        <% end %>
        
    </section>
</div>