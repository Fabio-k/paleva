<section>
    <h1>Adicionar <%= @menu.model_name.human%></h1>
    <%= form_with model: @menu do |f|%>
        <div>
            <%= f.text_field :name, placeholder: "Nome do #{@menu.model_name.human}", id: 'menu_name_field'%>
        </div>
        
        <%= f.submit "Criar #{@menu.model_name.human}"%>
    <% end %>
</section>

<section data-controller = "menu">
    <% @menus.each do |menu|%> 
        <div class="menu_container p-10 mb-20 border-2 border-default-200 rounded-md">
            <section class="flex gap-3 items-center">
                <h2 class="text-2xl"><%= menu.name%></h2>
                <%= link_to "Editar #{@menu.model_name.human}", edit_menu_path(menu.id)%>
                <% if menu.valid_items.present?%>
                    <button data-menu-target="toggleButton"><%= image_tag 'arrow_down.svg', width: 20, height: 20%></button>
                <% end %>
            </section>
            
            <div class="min-h-[2px] bg-gray-200 my-5"></div>

            <section class="menu_items" data-menu-target="menuItem">
                <% menu.valid_items.each do |item|%>
                    <div class="flex gap-5 p-5 items-center">
                        <div class="flex gap-5 items-center">
                            <% if item.photo.present? %>
                                <%= image_tag item.photo,width: 60, height: 60,  class: ''%>
                            <% end %> 
                            <div>
                                <section class="flex">
                                    <h3 class="font-medium mr-6"><%= item.name %></h3>
                                    <div class="flex gap-3">
                                        <% item.caracteristics.each do |caracteristic|%>
                                            <p>#<%= caracteristic.name %></p>
                                        <% end %>
                                    </div>
                                </section>
                                
                                <p class="text-sm"><%= item.description %></p>
                            </div>
                        </div>
                    </div>
                    <%= render item.portions%>
        
                <% end %>
            </section>
            
        </div>
    <% end %>
</section>

